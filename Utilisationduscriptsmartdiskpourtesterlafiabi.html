<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ol.lst-kix_ilkblrkbzz38-8{list-style-type:none}ol.lst-kix_czwttxkanb2p-5.start{counter-reset:lst-ctn-kix_czwttxkanb2p-5 0}ol.lst-kix_ilkblrkbzz38-7{list-style-type:none}ol.lst-kix_ilkblrkbzz38-4{list-style-type:none}ol.lst-kix_ilkblrkbzz38-5.start{counter-reset:lst-ctn-kix_ilkblrkbzz38-5 0}ol.lst-kix_ilkblrkbzz38-3{list-style-type:none}ol.lst-kix_ilkblrkbzz38-6{list-style-type:none}ol.lst-kix_ilkblrkbzz38-5{list-style-type:none}ol.lst-kix_ilkblrkbzz38-0{list-style-type:none}ol.lst-kix_ilkblrkbzz38-2{list-style-type:none}ol.lst-kix_ilkblrkbzz38-1{list-style-type:none}.lst-kix_ilkblrkbzz38-0>li{counter-increment:lst-ctn-kix_ilkblrkbzz38-0}ol.lst-kix_czwttxkanb2p-8.start{counter-reset:lst-ctn-kix_czwttxkanb2p-8 0}.lst-kix_czwttxkanb2p-3>li{counter-increment:lst-ctn-kix_czwttxkanb2p-3}.lst-kix_ilkblrkbzz38-7>li{counter-increment:lst-ctn-kix_ilkblrkbzz38-7}.lst-kix_ilkblrkbzz38-1>li{counter-increment:lst-ctn-kix_ilkblrkbzz38-1}ol.lst-kix_ilkblrkbzz38-2.start{counter-reset:lst-ctn-kix_ilkblrkbzz38-2 0}.lst-kix_czwttxkanb2p-0>li:before{content:"" counter(lst-ctn-kix_czwttxkanb2p-0,decimal) ". "}.lst-kix_czwttxkanb2p-1>li{counter-increment:lst-ctn-kix_czwttxkanb2p-1}.lst-kix_czwttxkanb2p-4>li{counter-increment:lst-ctn-kix_czwttxkanb2p-4}.lst-kix_czwttxkanb2p-7>li{counter-increment:lst-ctn-kix_czwttxkanb2p-7}.lst-kix_czwttxkanb2p-1>li:before{content:"" counter(lst-ctn-kix_czwttxkanb2p-1,lower-latin) ". "}.lst-kix_czwttxkanb2p-2>li:before{content:"" counter(lst-ctn-kix_czwttxkanb2p-2,lower-roman) ". "}.lst-kix_czwttxkanb2p-3>li:before{content:"" counter(lst-ctn-kix_czwttxkanb2p-3,decimal) ". "}.lst-kix_czwttxkanb2p-4>li:before{content:"" counter(lst-ctn-kix_czwttxkanb2p-4,lower-latin) ". "}ol.lst-kix_czwttxkanb2p-8{list-style-type:none}ol.lst-kix_czwttxkanb2p-7{list-style-type:none}ol.lst-kix_ilkblrkbzz38-3.start{counter-reset:lst-ctn-kix_ilkblrkbzz38-3 0}ol.lst-kix_czwttxkanb2p-1.start{counter-reset:lst-ctn-kix_czwttxkanb2p-1 0}ol.lst-kix_czwttxkanb2p-7.start{counter-reset:lst-ctn-kix_czwttxkanb2p-7 0}.lst-kix_ilkblrkbzz38-6>li{counter-increment:lst-ctn-kix_ilkblrkbzz38-6}ol.lst-kix_czwttxkanb2p-4.start{counter-reset:lst-ctn-kix_czwttxkanb2p-4 0}ol.lst-kix_ilkblrkbzz38-6.start{counter-reset:lst-ctn-kix_ilkblrkbzz38-6 0}ol.lst-kix_ilkblrkbzz38-0.start{counter-reset:lst-ctn-kix_ilkblrkbzz38-0 0}ol.lst-kix_ilkblrkbzz38-7.start{counter-reset:lst-ctn-kix_ilkblrkbzz38-7 0}ol.lst-kix_czwttxkanb2p-0{list-style-type:none}ol.lst-kix_czwttxkanb2p-2{list-style-type:none}.lst-kix_ilkblrkbzz38-3>li{counter-increment:lst-ctn-kix_ilkblrkbzz38-3}ol.lst-kix_czwttxkanb2p-1{list-style-type:none}ol.lst-kix_czwttxkanb2p-4{list-style-type:none}ol.lst-kix_czwttxkanb2p-3{list-style-type:none}ol.lst-kix_czwttxkanb2p-6{list-style-type:none}ol.lst-kix_czwttxkanb2p-5{list-style-type:none}.lst-kix_ilkblrkbzz38-5>li:before{content:"" counter(lst-ctn-kix_ilkblrkbzz38-5,lower-roman) ". "}.lst-kix_czwttxkanb2p-7>li:before{content:"" counter(lst-ctn-kix_czwttxkanb2p-7,lower-latin) ". "}.lst-kix_czwttxkanb2p-8>li:before{content:"" counter(lst-ctn-kix_czwttxkanb2p-8,lower-roman) ". "}.lst-kix_czwttxkanb2p-6>li{counter-increment:lst-ctn-kix_czwttxkanb2p-6}.lst-kix_ilkblrkbzz38-7>li:before{content:"" counter(lst-ctn-kix_ilkblrkbzz38-7,lower-latin) ". "}.lst-kix_czwttxkanb2p-5>li:before{content:"" counter(lst-ctn-kix_czwttxkanb2p-5,lower-roman) ". "}.lst-kix_czwttxkanb2p-6>li:before{content:"" counter(lst-ctn-kix_czwttxkanb2p-6,decimal) ". "}.lst-kix_ilkblrkbzz38-6>li:before{content:"" counter(lst-ctn-kix_ilkblrkbzz38-6,decimal) ". "}ol.lst-kix_czwttxkanb2p-3.start{counter-reset:lst-ctn-kix_czwttxkanb2p-3 0}ol.lst-kix_czwttxkanb2p-0.start{counter-reset:lst-ctn-kix_czwttxkanb2p-0 0}.lst-kix_czwttxkanb2p-0>li{counter-increment:lst-ctn-kix_czwttxkanb2p-0}.lst-kix_ilkblrkbzz38-4>li{counter-increment:lst-ctn-kix_ilkblrkbzz38-4}.lst-kix_ilkblrkbzz38-8>li:before{content:"" counter(lst-ctn-kix_ilkblrkbzz38-8,lower-roman) ". "}.lst-kix_ilkblrkbzz38-2>li{counter-increment:lst-ctn-kix_ilkblrkbzz38-2}.lst-kix_ilkblrkbzz38-5>li{counter-increment:lst-ctn-kix_ilkblrkbzz38-5}ol.lst-kix_ilkblrkbzz38-4.start{counter-reset:lst-ctn-kix_ilkblrkbzz38-4 0}ol.lst-kix_czwttxkanb2p-6.start{counter-reset:lst-ctn-kix_czwttxkanb2p-6 0}ol.lst-kix_ilkblrkbzz38-8.start{counter-reset:lst-ctn-kix_ilkblrkbzz38-8 0}.lst-kix_ilkblrkbzz38-8>li{counter-increment:lst-ctn-kix_ilkblrkbzz38-8}.lst-kix_ilkblrkbzz38-4>li:before{content:"" counter(lst-ctn-kix_ilkblrkbzz38-4,lower-latin) ". "}ol.lst-kix_czwttxkanb2p-2.start{counter-reset:lst-ctn-kix_czwttxkanb2p-2 0}.lst-kix_ilkblrkbzz38-3>li:before{content:"" counter(lst-ctn-kix_ilkblrkbzz38-3,decimal) ". "}.lst-kix_ilkblrkbzz38-2>li:before{content:"" counter(lst-ctn-kix_ilkblrkbzz38-2,lower-roman) ". "}.lst-kix_czwttxkanb2p-5>li{counter-increment:lst-ctn-kix_czwttxkanb2p-5}.lst-kix_ilkblrkbzz38-1>li:before{content:"" counter(lst-ctn-kix_ilkblrkbzz38-1,lower-latin) ". "}.lst-kix_czwttxkanb2p-2>li{counter-increment:lst-ctn-kix_czwttxkanb2p-2}.lst-kix_czwttxkanb2p-8>li{counter-increment:lst-ctn-kix_czwttxkanb2p-8}ol.lst-kix_ilkblrkbzz38-1.start{counter-reset:lst-ctn-kix_ilkblrkbzz38-1 0}.lst-kix_ilkblrkbzz38-0>li:before{content:"" counter(lst-ctn-kix_ilkblrkbzz38-0,decimal) ". "}ol{margin:0;padding:0}table td,table th{padding:0}.c8{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:225.7pt;border-top-color:#000000;border-bottom-style:solid}.c0{padding-top:18pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left;height:16pt}.c6{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left;height:11pt}.c2{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:26pt;font-family:"Arial";font-style:normal}.c4{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c5{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:"Arial";font-style:normal}.c13{padding-top:0pt;padding-bottom:3pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:center}.c14{padding-top:18pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c7{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c12{padding-top:18pt;padding-bottom:4pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c1{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c17{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline}.c9{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:center}.c16{border-spacing:0;border-collapse:collapse;margin-right:auto}.c15{background-color:#ffffff;max-width:451.4pt;padding:72pt 72pt 72pt 72pt}.c18{padding:0;margin:0}.c10{margin-left:36pt;padding-left:0pt}.c19{color:inherit;text-decoration:inherit}.c3{height:0pt}.c11{background-color:#d9d9d9}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c15"><div><p class="c6"><span class="c4"></span></p></div><p class="c13 title" id="h.y3g5v353z4xr"><span class="c2">Utilisation du script smartdisk.sh pour tester la fiabilit&eacute; d&#39;un disque</span></p><h2 class="c14" id="h.75maxbcczxsz"><span class="c5">Description:</span></h2><p class="c7"><span class="c4">Script permettant: </span></p><ol class="c18 lst-kix_ilkblrkbzz38-0 start" start="1"><li class="c7 c10"><span class="c4">D&#39;afficher le num&eacute;ro de s&eacute;rie d&#39;un disque dur. </span></li><li class="c7 c10"><span class="c4">D&#39;afficher le temps en fonctionnement d&#39;un disque dur. </span></li><li class="c7 c10"><span class="c4">D&#39;afficher une date pr&eacute;ventive pour le changement d&#39;un disque dur avant une &eacute;ventuelle panne fatale.</span></li><li class="c7 c10"><span class="c4">D&rsquo;afficher le tableaux des valeurs S.M.A.R.T du constructeur. </span></li><li class="c7 c10"><span class="c4">Effectue les testes S.M.A.R.T sur un disque dur.</span></li></ol><h2 class="c14" id="h.odue3l9mo86k"><span class="c5">Usage:</span></h2><p class="c7"><span class="c4 c11">&nbsp;./smartdisk.sh</span></p><p class="c7"><span class="c4">Ex&eacute;cuter le script en root!</span></p><h2 class="c14" id="h.obzhepx3ytg"><span class="c5">Compatibilit&eacute;:</span></h2><p class="c7"><span class="c4">Les disques durs supportant les attributs S.M.A.R.T sont:</span></p><p class="c7"><span class="c4">Samsung, Seagate, IBM (Hitachi), Fujitsu, Maxtor, Western Digital.</span></p><p class="c6"><span class="c4"></span></p><p class="c7"><span class="c4">Ce script s&#39;est bas&eacute; sur la donn&eacute;es Power-On Hours (POH) pour d&eacute;terminer la date de l&#39;erreur fatale possible. </span></p><p class="c7"><span class="c4">Mais certains constructeurs utilisent cette donn&eacute;es en minutes par cons&eacute;quent ce script ne sera pas compatible.</span></p><h2 class="c12" id="h.vbz7lgcxiuhm"><span class="c5">Donn&eacute;es utilis&eacute;es:</span></h2><p class="c7"><span class="c4">un jour = 24h</span></p><p class="c7"><span class="c4">une semaine = 168h</span></p><p class="c7"><span class="c4">un mois = 730.001h</span></p><p class="c7"><span class="c4">un ans = 8760h</span></p><hr style="page-break-before:always;display:none;"><h2 class="c0" id="h.sammqzohi7ab"><span class="c5"></span></h2><h2 class="c14" id="h.b64hpmjsm7b2"><span class="c5">Donn&eacute;e de seuil:</span></h2><p class="c7"><span class="c4">D&#39;apr&egrave;s mes recherches le seuil max pour la dur&eacute;e de vie d&#39;un disque dur en production est d&#39;environ 30 000 heures maximum, mais apr&egrave;s v&eacute;rification sur d&rsquo;autres disques on peut augmenter le seuil jusqu&#39;&agrave; 40 000 heures au del&agrave; par contre la dur&eacute;e de vie du disque n&rsquo;est plus garantie.</span></p><p class="c7"><span class="c4">&nbsp;</span></p><p class="c7"><span class="c4">D&#39;apr&egrave;s cette information la probabilit&eacute; de panne par l&#39;usure naturelle est:</span></p><p class="c7"><span class="c4">Plus petit ou &eacute;gal &agrave; 20000 ==&gt; [ ~0% ]</span></p><p class="c7"><span class="c4">Entre 20001 et 24999 ==&gt; [ ~20% ]</span></p><p class="c7"><span class="c4">Entre 25000 et 29999 ==&gt; [ ~40% ]</span></p><p class="c7"><span class="c4">Entre 30000 et 34999 ==&gt; [ ~60% ]</span></p><p class="c7"><span class="c4">Entre 35000 et 39999 ==&gt; [ ~80% ]</span></p><p class="c7"><span class="c4">Plus grand ou &eacute;gal &agrave; 40000 ==&gt; [ ~100% ]</span></p><p class="c6"><span class="c4"></span></p><h2 class="c14" id="h.rlghm6smt94"><span class="c5">Lecture des valeurs du tableau S.M.A.R.T</span></h2><p class="c6"><span class="c4"></span></p><a id="t.7a7759a76a0ad51bd9a613511aacce82f8aa3fc4"></a><a id="t.0"></a><table class="c16"><tbody><tr class="c3"><td class="c8 c11" colspan="1" rowspan="1"><p class="c9"><span class="c4">Colonne</span></p></td><td class="c8 c11" colspan="1" rowspan="1"><p class="c9"><span class="c4">Description</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c7"><span class="c4">VALUE</span></p></td><td class="c8" colspan="1" rowspan="1"><p class="c7"><span class="c4">Repr&eacute;sente l&rsquo;indice de fiabilit&eacute;.</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c7"><span class="c4">WORST</span></p></td><td class="c8" colspan="1" rowspan="1"><p class="c7"><span class="c4">Repr&eacute;sente la plus petite valeur de VALUE enregistr&eacute;e.</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c1"><span class="c4">THRESH</span></p></td><td class="c8" colspan="1" rowspan="1"><p class="c1"><span class="c4">Repr&eacute;sente la valeur limite avant une d&eacute;gradation ou un risque de panne. </span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c1"><span class="c4">WHEN_FAILED</span></p></td><td class="c8" colspan="1" rowspan="1"><p class="c1"><span class="c4">S&rsquo;il y a une erreur cela affiche la probabilit&eacute; de panne:</span></p><ol class="c18 lst-kix_czwttxkanb2p-0 start" start="1"><li class="c1 c10"><span class="c4">Failing_Now: panne imminente.</span></li><li class="c1 c10"><span class="c4">In_the_past: indique qu&rsquo;il y a eu une anomalie par le pass&eacute;.</span></li></ol></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c1"><span class="c4">RAW_VALUE</span></p></td><td class="c8" colspan="1" rowspan="1"><p class="c1"><span class="c4">Valeur mesur&eacute;.</span></p></td></tr></tbody></table><p class="c6"><span class="c4"></span></p><h2 class="c14" id="h.vl77vgyhu4oa"><span class="c5">Important:</span></h2><p class="c7"><span>Il faut que les valeurs de la colonne &nbsp;VALUE soient toujours sup&eacute;rieures aux valeurs de la colonne THRESH, si c&rsquo;est pas le cas cela veut dire qu&rsquo;il y a un probl&egrave;me sur la ligne en question.</span><hr style="page-break-before:always;display:none;"></p><h2 class="c14" id="h.5l78obwbf1zm"><span class="c5">Les pannes courantes, voir tableau S.M.A.R.T:</span></h2><p class="c6"><span class="c4"></span></p><a id="t.565eedf8a33fe78270edb407854fe24f5bc9c2f5"></a><a id="t.1"></a><table class="c16"><tbody><tr class="c3"><td class="c8 c11" colspan="1" rowspan="1"><p class="c9"><span class="c4">Ligne par ID</span></p></td><td class="c8 c11" colspan="1" rowspan="1"><p class="c9"><span class="c4">Panne</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c1"><span class="c4">01</span></p></td><td class="c8" colspan="1" rowspan="1"><p class="c1"><span class="c4">Surface du disque ou t&ecirc;te de lecture d&eacute;grad&eacute;e.</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c1"><span class="c4">02</span></p></td><td class="c8" colspan="1" rowspan="1"><p class="c1"><span class="c4">Probl&egrave;me g&eacute;n&eacute;rale.</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c1"><span class="c4">05</span></p></td><td class="c8" colspan="1" rowspan="1"><p class="c1"><span class="c4">Trop de secteurs r&eacute;allou&eacute;s la vitesse de lecture et &eacute;criture diminue.</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c1"><span class="c4">07, 08, 10, 198 et 11</span></p></td><td class="c8" colspan="1" rowspan="1"><p class="c1"><span class="c4">D&eacute;gradation du sous-syst&egrave;me m&eacute;canique.</span></p></td></tr><tr class="c3"><td class="c8" colspan="1" rowspan="1"><p class="c1"><span class="c4">191</span></p></td><td class="c8" colspan="1" rowspan="1"><p class="c1"><span class="c4">Erreurs dues &agrave; des chocs externes ou vibrations violentes.</span></p></td></tr></tbody></table><p class="c6"><span class="c4"></span></p><p class="c6"><span class="c4"></span></p><p class="c7"><span>Documentation : </span><span class="c17"><a class="c19" href="https://www.google.com/url?q=https://fr.wikipedia.org/wiki/Self-Monitoring%252C_Analysis_and_Reporting_Technology&amp;sa=D&amp;ust=1550326940992000">https://fr.wikipedia.org/wiki/Self-Monitoring%2C_Analysis_and_Reporting_Technology</a></span></p><p class="c6"><span class="c4"></span></p><p class="c6"><span class="c4"></span></p></body></html>